@using PhonesAndPeople.Models
@{
    ViewData["Title"] = "Home Page";
}
@model IEnumerable<Person>
<h1>Список пользователей</h1>
<table class="table">
    <tr>
        <th>
            <a href='@Url.Action("Sort", "Home", new {sortOrder = ViewBag.FNameSort})'>
                Префикс
            </a>
        </th>
        <th id ="sname">
            <a href='@Url.Action("Sort", "Home", new {sortOrder = ViewBag.SNameSort})'>
                Имя
            </a>
        </th>
        <th id ="lname">
            <a href='@Url.Action("Sort", "Home", new {sortOrder = ViewBag.LNameSort})'>
                Фамилия
            </a>
        </th>
    </tr>
    @foreach (Person u in Model)
    {
        <tr><td>@u.FirstName</td><td>@u.SecondName</td><td>@u.LastName</td></tr>
    }
</table>
@section scripts {
    <script>
        $(document).ready(function () {

            $("#fname").click(function (event) {
                sortFName();
            });
        });
        function sortFName() {
            $.ajax({
                url: '~/Home/Sort',
                data: { sortOrder: @ViewBag.FNameSort}
            });
        }
    </script>
    }
